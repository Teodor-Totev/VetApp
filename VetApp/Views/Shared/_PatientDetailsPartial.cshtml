@{
	ViewData["Title"] = "Patient Details";
}

<div class="card border-secondary mb-3" style="margin: 10px 0px">
	<h4 class="card-header">@Model.Name</h4>
	<div class="card-body">
		<dl class="row">
			<dt class="col-5 card-title">Type:</dt>
			<dd class="col-7 card-text">@Model.Type</dd>

			<dt class="col-5 card-title">Gender:</dt>
			<dd class="col-7 card-text">@Model.Gender</dd>

			<dt class="col-5 card-title">Neutered:</dt>
			<dd class="col-7 card-text">@Model.Neutered</dd>

			<dt class="col-5 card-title">Owner Name:</dt>
			<dd class="col-7 card-text">@Model.OwnerName</dd>

			<dt class="col-5 card-title">BirthDate:</dt>
			<dd class="col-7 card-text">
				@if (Model.BirthDate != null)
				{
					Model.BirthDate.ToString("dd/MM/yyyy");
				}
			</dd>

			<dt class="col-5 card-title">Microchip:</dt>
			<dd class="col-7 card-text">@Model.Microchip</dd>

			<dt class="col-5 card-title">Chronic Illnesses:</dt>
			<dd class="col-7 card-text">@Model.ChronicIllnesses</dd>

			<dt class="col-5 card-title">Characteristics:</dt>
			<dd class="col-7 card-text">@Model.Characteristics</dd>
		</dl>

		<a id="addExaminationBtn" class="btn btn-outline-primary text-white" asp-controller="Examination" asp-action="Add" asp-route-patientId="@Model.Id">Add Examination</a>
		<a class="btn btn-outline-warning text-white" asp-controller="Patient" asp-action="Edit" asp-route-patientId="@Model.Id">Edit</a>
	</div>
</div>

<script>
	function getCurrentRoute() {
		let pathArray = window.location.pathname.split('/');
		let controller = pathArray[1];
		let action = pathArray[2];
		return { controller: controller, action: action };
	}

	let currentRoute = getCurrentRoute();

	if (currentRoute.controller.toLowerCase() === "examination" &&
		currentRoute.action.toLowerCase() === "add") {
		document.getElementById("addExaminationBtn").style.display = "none";
	}
</script>